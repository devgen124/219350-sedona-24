var popupButton=document.querySelector(".booking-button"),form=document.querySelector(".search-hotels"),arrivalDate=document.querySelector("[name=arrival-date]"),departureDate=document.querySelector("[name=departure-date]"),adults=document.querySelector("[name=adults-amount]"),children=document.querySelector("[name=children-amount]"),adultsStorage=localStorage.getItem("adults"),childrenStorage=localStorage.getItem("children");form.classList.add("search-hotels-hidden"),popupButton.addEventListener("click",function(e){e.preventDefault(),form.classList.contains("search-hotels-show")?form.classList.remove("search-hotels-show"):form.classList.add("search-hotels-show"),adultsStorage&&(adults.value=adultsStorage),childrenStorage&&(children.value=childrenStorage)}),form.addEventListener("submit",function(e){arrivalDate.value&&departureDate.value&&adults.value?(localStorage.setItem("adults",adults.value),localStorage.setItem("children",children.value)):(e.preventDefault(),form.classList.remove("search-hotels-error"),form.offsetWidth=form.offsetWidth,form.classList.add("search-hotels-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),form.classList.contains("search-hotels-show")&&(form.classList.remove("search-hotels-show"),form.classList.remove("search-hotels-error")))});
